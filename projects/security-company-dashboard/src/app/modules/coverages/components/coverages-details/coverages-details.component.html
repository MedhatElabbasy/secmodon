<section>
  <div class="h-100 py-4 container">
    <div class="d-flex justify-content-between gap-2">
      <div routerLinkActive="router-link-active" class="d-flex
        align-items-center gap-2 fs-5 fw-bold c-pointer">
        <ion-icon name="arrow-back-circle-outline" class="rtl-icon" size="large"
          (click)="back()"></ion-icon>
        {{'coveragesManagement.coverageDetails'|translate}}
      </div>

      <div class="d-flex gap-3 align-items-center">
        <button type="button" class="btn bg-danger-o text-black gap-2 rounded-8
          d-flex
          align-items-center" (click)="Delete()">
          <i class="fa-solid fa-trash text-danger"></i>
          <span class="d-none d-sm-block" translate="delete"></span>
        </button>
        <button type="button" class="btn bg-info-o text-black gap-2 rounded-8
          d-flex
          align-items-center text-black" (click)="update()">
          <i class="fa-solid fa-pen text-info"></i>
          <span class="d-none d-sm-block" translate="edit"></span>
        </button>
      </div>
    </div>

    <div class="card mt-3 border-0 rounded-8">
      <div class="card-body">
        <!-- ------------------------------- header -------------------------------- -->
        <div class="d-flex flex-wrap justify-content-between
          align-items-center
          gap-3">
          <div>
            <div class="d-flex align-items-center gap-3">
              <div class="flex-shrink-0">
                <img [src]="Coverage?.securityCompany?.companyLogo?.fullLink"
                  alt="company-logo" class="company-logo" /><!--[src]="company.companyLogo?.fullLink"-->
              </div>
              <div class="flex-grow-1">
                <h5 class="fw-700">{{Coverage?.securityCompany?.name}}</h5>
                <p class="m-0 fs-18 fw-bold">
                  <span class="text-info mie-2" translate="company_address"></span>{{Coverage?.securityCompany?.address}}
                </p>
              </div>
            </div>
          </div>
          <div class="d-flex align-items-center gap-3">
            <div class="bg-warning-o icon">
              <ion-icon name="calendar"></ion-icon>
            </div>

            <div>
              <div class="text-info mb-1 fs-14" translate="job.posted_on"></div>
              <div class="text-primary fs-18 fw-700">
                {{Coverage.created.split(" ")[0]}}
              </div>
            </div>
          </div>
        </div>
        <hr />
        <!-- ----------------------------- description ----------------------------- -->
        <div>
          <h6 class="text-info fs-14"
            translate="coveragesManagement.coverageDetails"></h6>
          <div class="fs-6 fw-bold">
            {{ (isAr | async)
            ? Coverage?.jobDescription
            : Coverage?.jobDescriptionEN }}
          </div>
        </div>
        <hr />
        <!-- ------------------------------- details ------------------------------- -->
        <div class="row row-cols-xl-5 row-cols-md-3 row-cols-2 gy-3">
          <div>
            <p class="fs-14 mb-2 text-info"
              translate="coveragesManagement.VacanciesRequiredToBeCovered"></p>
            <div class="fw-bold">{{Coverage?.openJobNumber}}</div>
          </div>
          <div>
            <p class="fs-14 mb-2 text-info"
              translate="coveragesManagement.CoverDate"></p>
            <div class="fw-bold">
              {{Coverage.coveringDate.split(" ")[0] +"
              "+Coverage.coveringEndDate.split(" ")[0]}}
            </div>
          </div>
          <div>
            <p class="fs-14 mb-2 text-info"
              translate="coveragesManagement.coveragePeriod"></p>
            <div class="fw-bold">
              {{Coverage.coveringDayes}}
            </div>
          </div>
          <div>
            <p class="fs-14 mb-2 text-info" translate="coveragesManagement.age"></p>
            <div class="fw-bold">{{Coverage.coveringMinAge +" "}}{{ (isAr |
              async)? 'سنة':'years'}}</div>
          </div>
          <div>
            <p class="fs-14 mb-2 text-info"
              translate="coveragesManagement.coverageValue"></p>
            <div class="fw-bold">
              {{Coverage.coveringAmount+" "}}{{ (isAr | async)? 'ريال':'SAR'}}
            </div>
          </div>
        </div>
        <hr />
        <div>
          <h6 class="text-info fs-14"
            translate="coveragesManagement.CoverageRequirements"></h6>
          <div class="fs-6 fw-bold">
            {{ (isAr | async)
            ? Coverage.jobReqiurement
            : Coverage.jobReqiurementEN }}
          </div>
        </div>
      </div>
    </div>

    <h5 class="my-4 fw-600"
      translate="coveragesManagement.ApplicationsReceivedForCoverage"
      [translateParams]="{
      number: total }"></h5>

    <div class="mt-3 flex-grow-1 d-flex flex-column">
      <ul class="nav sub-nav nav-tabs mb-3">
        <ng-container>
          <li class="nav-item">
            <a [routerLink]="links.coverageReceivOrders"
              routerLinkActive="router-link-active" class="nav-link"
              routerLinkActive="active">{{
              "coveragesManagement.coverageReceivOrders" | translate }}
            </a>
          </li>
          <!-- <li class="nav-item">
            <a [routerLink]="links.coverageGuards"
              routerLinkActive="router-link-active" class="nav-link"
              routerLinkActive="active">{{ "coveragesManagement.coverageGuards"
              | translate }}
            </a>
          </li> -->
        </ng-container>
      </ul>
      <div class="flex-grow-1">
        <router-outlet></router-outlet>
      </div>
    </div>

    <!-- <div class="card rounded-8 border-0 mb-3">
      <div class="card-body">
        <header class="d-flex gap-3 flex-wrap justify-content-between
                    align-items-center">
          <div class="col-12 col-sm-4">
            <div class="input-group">
              <span class="input-group-text border-0
                                bg-transparent" id="search">
                <ion-icon name="search"></ion-icon>
              </span>
              <input type="text" class="form-control" [placeholder]="'search' |
                                translate" aria-label="search" aria-describedby="search" />
            </div><!-- [(ngModel)]="searchKey"-->
    <!-- </div>


        </header>
        <hr />
        <div class="table-responsive text-primary">
          <table class="table table-striped table-borderless">
            <thead>
              <tr>
                <th scope="col" translate="coveragesManagement.name"></th>
                <th scope="col" translate="coveragesManagement.contactNumber"></th>
                <th scope="col" translate="coveragesManagement.SubmissionDate"></th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td scope="col" class="fw-bold">May awaad</td>
                <td scope="col">01120546175</td>
                <td scope="col">9/4/2023</td>
                <td>
                  <div class="d-flex gap-2
                  justify-content-end">
                    <button type="button" class="btn text-nowrap btn-warning
                      rounded-8 text-white
                      d-flex align-items-center gap-2" (click)="showDetails({})">
                      <ion-icon name="document-text"></ion-icon>
                      {{'coveragesManagement.ViewDetails'|translate}}
                    </button>
                  </div>
                </td>
              </tr>
            </tbody>
            <!-- <tbody>
                            <tr class="c-pointer" *ngFor="
                                let app of jobApps |
                                search:searchKey:['securityGuard',{fname:'firstName',lname:'lastName'}]
                                | paginate
                                : {
                                itemsPerPage: pageSize,
                                currentPage: pageNumber,
                                totalItems: total,
                                id: 'apps'
                                }
                                ">
                                <td>
                                    {{ app.securityGuard.firstName }}
                                    {{ app.securityGuard.lastName }}
                                </td>
                                <td>{{ app.phone }}</td>
                                <td class="text-nowrap">{{ app.createdDateTime
                                    }}</td>
                                <td>
                                    <div class="d-flex gap-2
                                        justify-content-end">
                                        <button type="button"
                                            class="btn text-nowrap btn-warning
                                            rounded-8 text-white
                                            d-flex align-items-center gap-2" (click)="showAppDetails(app)">
                                            <ion-icon name="document-text"></ion-icon>
                                            {{ "job.view_resume" | translate }}
                                        </button>
                                    </div>
                                </td>
                            </tr>
                             <tr>
                  <td *ngIf="!jobApps.length" colspan="4">
                    <h6 class="fw-600 text-align-center text-danger"
                      translate="no_data_to_show"></h6>
                  </td>
                </tr>
                        </tbody> -->
    <!-- </table>
        </div>

        <hr />

        <div class="d-flex flex-wrap align-items-center justify-content-between
            gap-3">
          <div class="text-info d-flex gap-3 align-items-center">
            <label class="fw-500" translate="for_page"></label>
            <div>
              <select class="form-select" (change)="onPageSizeChange($event)">
                <option *ngFor="let size of sizes" [selected]="size ==
                    pageSize">
                  {{ size }}
                </option>
              </select>
            </div>
          </div>

          <pagination-controls id="apps" (pageChange)="onPageNumberChange($event)"
            (pageBoundsCorrection)="onPageNumberChange($event)" [maxSize]="5"  [responsive]="true" [previousLabel]="''"
            [nextLabel]="''" screenReaderPaginationLabel="Pagination" screenReaderPageLabel="page"
            screenReaderCurrentLabel="You're on page">
          </pagination-controls>
        </div>
      </div>
    </div>
  </div>  -->
    <!-- <public-api-canvas [id]="editJob">
      <form [formGroup]="jobForm" #form="ngForm" (ngSubmit)="onSubmit()"
        class="f-container">
        <div class="form">
          <h5 *ngIf="!selectedJob" class="text-align-center fw-600 mt-2 mb-4"
            translate="job.create_new_job"></h5>
          <h5 *ngIf="selectedJob" class="text-align-center fw-600 mt-2 mb-4"
            translate="job.edit_job"></h5>

          <div class="mb-3">
            <p-dropdown styleClass=" w-100" [options]="jobTypes"
              optionLabel="name" optionValue="id"
              [placeholder]="'job.job_type' | translate"
              formControlName="jobTypeId"></p-dropdown>

            <div class="error-message" *ngIf="controls['jobTypeId'].invalid &&
              form.submitted">
              <i class="fa-solid fa-circle-exclamation"></i>
              {{ "validation.field_required" | translate }}
            </div>
          </div>

          <div class="mb-3">
            <div class="form-floating">
              <textarea class="form-control" placeholder="Leave a comment here"
                id="desc" style="height: 140px"
                formControlName="jobDescription"></textarea>
              <label for="desc" translate="job.job_description"></label>
            </div>
            <div class="error-message" *ngIf="controls['jobDescription'].invalid
              && form.submitted">
              <i class="fa-solid fa-circle-exclamation"></i>
              {{ "validation.field_required" | translate }}
            </div>
          </div>

          <div class="mb-3">
            <div class="form-floating mb-3">
              <textarea class="form-control" placeholder="Leave a comment here"
                id="desc" style="height: 140px"
                formControlName="jobReqiurement"></textarea>
              <label for="desc" translate="job.job_requirements"></label>
            </div>
            <div class="error-message" *ngIf="controls['jobReqiurement'].invalid
              && form.submitted">
              <i class="fa-solid fa-circle-exclamation"></i>
              {{ "validation.field_required" | translate }}
            </div>
          </div>

          <div class="mb-3">
            <div class="form-floating">
              <textarea class="form-control" placeholder="Leave a comment here"
                id="descEN" style="height: 140px"
                formControlName="jobDescriptionEN"></textarea>
              <label for="descEN" translate="job.job_descriptionEN"></label>
            </div>
            <div class="error-message" *ngIf="controls['jobDescriptionEN'].invalid
              && form.submitted">
              <i class="fa-solid fa-circle-exclamation"></i>
              {{ "validation.field_required" | translate }}
            </div>
          </div>
          <div class="mb-3">
            <div class="form-floating mb-3">
              <textarea class="form-control" placeholder="Leave a comment here"
                id="descEN" style="height: 140px"
                formControlName="jobReqiurementEN"></textarea>
              <label for="descEN" translate="job.job_requirementsEN"></label>
            </div>
            <div class="error-message" *ngIf="controls['jobReqiurementEN'].invalid
              && form.submitted">
              <i class="fa-solid fa-circle-exclamation"></i>
              {{ "validation.field_required" | translate }}
            </div>
          </div>

          <div style="height: 250px" class="mb-3">
            <public-api-map-search
              (coordinates)="onLocationListener($any($event))" class="map mb-3">
            </public-api-map-search>
            <div class="error-message" *ngIf="controls['locationName'].invalid &&
              form.submitted">
              <i class="fa-solid fa-circle-exclamation"></i>
              {{ "validation.field_required" | translate }}
            </div>
          </div>

          <div class="row row-cols-1 g-3">
            <div>
              <p-dropdown [options]="shifts" class="grid-item" styleClass="w-100"
                optionLabel="name" optionValue="id"
                [placeholder]="'shift' | translate" formControlName="shiftTypeId"></p-dropdown>
              <div class="error-message" *ngIf="controls['shiftTypeId'].invalid &&
                form.submitted">
                <i class="fa-solid fa-circle-exclamation"></i>
                {{ "validation.field_required" | translate }}
              </div>
            </div>
            <div>
              <div class="form-floating w-auto">
                <input type="number" class="form-control" id="openJobNumber"
                  placeholder="data"
                  formControlName="openJobNumber" />
                <label for="openJobNumber" translate="job.open_vacancy"></label>
              </div>

              <div class="error-message" *ngIf="controls['openJobNumber'].invalid
                && form.submitted">
                <i class="fa-solid fa-circle-exclamation"></i>
                <span *ngIf="controls['openJobNumber'].errors.required">
                  {{ "validation.field_required" | translate }}
                </span>
                <span *ngIf="controls['openJobNumber'].errors.pattern">
                  {{ "validation.not_valid_to_use" | translate }}
                </span>
              </div>
            </div>

            <div>
              <div class="form-floating w-auto">
                <input type="number" class="form-control" id="openJobNumber"
                  placeholder="data"
                  formControlName="experinceReqiured" />
                <label for="openJobNumber" translate="job.required_experience"></label>
              </div>

              <div class="error-message"
                *ngIf="controls['experinceReqiured'].invalid && form.submitted">
                <i class="fa-solid fa-circle-exclamation"></i>
                <span *ngIf="controls['experinceReqiured'].errors.required">
                  {{ "validation.field_required" | translate }}
                </span>
                <span *ngIf="controls['experinceReqiured'].errors.pattern">
                  {{ "validation.not_valid_to_use" | translate }}
                </span>
              </div>
            </div>

            <div>
              <p-dropdown [options]="genders" class="grid-item" styleClass="w-100"
                optionLabel="name" optionValue="id"
                formControlName="genderId" [placeholder]="'job.preferred_gender' |
                translate"></p-dropdown>

              <div class="error-message" *ngIf="controls['genderId'].invalid &&
                form.submitted">
                <i class="fa-solid fa-circle-exclamation"></i>
                {{ "validation.field_required" | translate }}
              </div>
            </div>
          </div>
        </div>
        <div class="buttons mt-5 mb-2 d-flex justify-content-end">
          <button translate="save_changes" type="submit" class="btn px-4 py-2
            rounded-8 btn-primary"></button>
        </div>
      </form>
    </public-api-canvas>
   -->
    <!-- ------------------------------- delete -------------------------------- -->
    <!-- <public-api-modal classList="modal-dialog-centered" [id]="modalID">
      <img src="assets/images/svg/delete.svg" alt="" class="mb-3" srcset="" />
      <h4 class="fw-700" translate="job.are_you_sure_about_deleting_job"></h4>
      <p class="mt-2 text-info" translate="cancel_this_operation"></p>

      <div class="d-flex justify-content-end gap-2">
        <button type="button" data-bs-dismiss="modal" class="btn rounded-8 px-4
          py-2 btn-light" translate="cancel"
          (click)="selectedJob= null"></button>
        <button translate="yes_delete" (click)="onDelete()" type="button"
          class="btn rounded-8 px-4 py-2 btn-danger"></button>
      </div>
    </public-api-modal>
  </section> -->
    <!-- ------------------------------- success ------------------------------- -->
    <!-- <public-api-modal [id]="successAlert" classList="modal-dialog-centered">
    <img width="50" src="assets/images/icons/checked.png" alt="" class="mb-3" />
    <h5 class="fw-600" translate="job.applicant_accepted_message"></h5>

    <div class="d-flex justify-content-end gap-2">
      <button translate="continue" data-bs-dismiss="modal" type="button"
        class="btn rounded-8 px-4 py-2 btn-primary text-white"></button>
    </div>
  </public-api-modal> -->
    <!-- ------------------------------- success ------------------------------- -->
    <!-- <public-api-modal [id]="successAlert2" classList="modal-dialog-centered">
    <img width="50" src="assets/images/icons/checked.png" alt="" class="mb-3" />
    <h5 class="fw-600" translate="job.applicant_reject_message"></h5>

    <div class="d-flex justify-content-end gap-2">
      <button translate="continue" data-bs-dismiss="modal" type="button"
        class="btn rounded-8 px-4 py-2 btn-primary text-white"></button>
    </div>
  </public-api-modal>
   -->
    <!-- <public-api-canvas [id]="details">
    <div class=" vh-80">
      <h4 class="text-align-center
        mt-3" translate="coveragesManagement.applicantData"></h4>
      <div class="mt-4">
        <div class="form-floating mb-3">
          <input type="text" class="form-control" id="companyName" placeholder="companyName*"
            value="عبدالملك عيسي الدوسري" disabled />
          <label for="companyName">
            {{ "coveragesManagement.companyName" | translate }}
          </label>
        </div>
        <div class="mb-3">
          <span class="text-info fs-14" translate="coveragesManagement.contactNumber"></span>
          <p class="mt-1 fw-bold">(+966) 376-7149</p>
        </div>
        <div class="mb-3">
          <span class="text-info fs-14" translate="email"></span>
          <p class="mt-1 fw-bold">diana.ramirez@mail.com</p>
        </div>
        <div class="mb-3">
          <span class="text-info fs-14" translate="coveragesManagement.SubmissionDate"></span>
          <p class="mt-1 fw-bold">26/11/2021</p>
        </div>
      </div>
    </div>
    <div>
      <button class="btn btn-primary d-block w-100 mb-2" translate="clients.accept_request"></button>
      <button class="btn btn-light d-block w-100 mt-1" translate="clients.reject_request"></button>
    </div>
  </public-api-canvas> -->
    <!-- update and delete -->
    <public-api-canvas [id]="updateData">
      <h4 translate="coveragesManagement.addNewCoverage"
        class="text-align-center
        mt-3"></h4>

      <form class="mt-4" [formGroup]="coveragesForm"
        (ngSubmit)="onSubmit()" #form="ngForm">
        <div class="form-floating mb-3">
          <p-dropdown
            styleClass="w-100"
            [options]="allBranches"
            optionValue="id"
            formControlName="securityCompanyBranchId"
            [filterBy]="(isAr | async) ? 'name' : 'nameEn'"
            [filter]="true"
            placeholder="{{ 'clients.chooseBranch' | translate }}"
            [optionLabel]="(isAr | async) ? 'name' : 'nameEn'">
          </p-dropdown>

          <div class="mt-1 text-danger" *ngIf="form.submitted &&
            controls['securityCompanyBranchId'].invalid">
            <i class="fa-solid fa-circle-exclamation"></i>
            {{'validation.field_required' | translate}}
            <!-- <div
                    *ngIf="controls['commercialRegisterStartDate'].errors.required"
                    class="error-message">
                    <i class="fa-sharp fa-solid fa-circle-exclamation"></i>
                    {{
                    'completeCompanyProfile.commercialRegisterStartDate_required'
                    |
                    translate }}
                </div> -->
          </div>
        </div>

        <!-- --------------------------------- map --------------------------------- -->
        <div class="mb-3">
          <div style="height: 200px">
            <public-api-map-search
              [addressControl]="controls['locationName']"
              [latControl]="controls['locationLat']"
              [lngControl]="controls['locationLng']"></public-api-map-search>
          </div>
          <div
            class="error-message"
            *ngIf="
            controls['locationName'].invalid && form.submitted
            ">
            <i class="fa-solid fa-circle-exclamation"></i>
            {{ "validation.field_required" | translate }}
          </div>
        </div>

        <div class="row g-4 row-cols-2 mb-3">
          <div>
            <div class="form-floating">
              <input type="time" class="form-control" id="timeFrom"
                placeholder="data"
                formControlName="coveringStartTime"/>
              <label for="timeFrom"
                translate="coveragesManagement.timeFrom"></label>
            </div>
            <div
              class="error-message"
              *ngIf="controls['coveringStartTime'].invalid &&
              form.submitted">
              <i class="fa-solid fa-circle-exclamation"></i>
              {{ "validation.field_required" | translate }}
            </div>
          </div>
          <div>
            <div class="form-floating">
              <input type="time" class="form-control" id="timeTo"
                placeholder="data" formControlName="coveringEndTime"/>
              <label for="timeTo" translate="coveragesManagement.timeTo"></label>
            </div>

            <div
              class="error-message"
              *ngIf="controls['coveringEndTime'].invalid &&
              form.submitted">
              <i class="fa-solid fa-circle-exclamation"></i>
              {{ "validation.field_required" | translate }}
            </div>
          </div>
          <div class="form-floating">
            <input type="email" class="form-control bg-info-o" id="date1"
              placeholder="date" bsDatepicker
              [minDate]="now"
              [maxDate]="controls['coveringEndDate'].value"
              [bsConfig]="{
              containerClass: 'theme-red',
              isAnimated: true,
              showWeekNumbers: false,
              adaptivePosition: true
              }" formControlName="coveringDate" />
            <label for="date1" translate="coveragesManagement.dateFrom"></label>
            <div
              class="error-message"
              *ngIf="controls['coveringDate'].invalid &&
              form.submitted">
              <i class="fa-solid fa-circle-exclamation"></i>
              {{ "validation.field_required" | translate }}
            </div>
          </div>
          <div class="form-floating">
            <input type="email" class="form-control bg-info-o" id="date2"
              placeholder="date" bsDatepicker
              [minDate]="controls['coveringDate'].value||now"
              [bsConfig]="{
              containerClass: 'theme-red',
              isAnimated: true,
              showWeekNumbers: false,
              adaptivePosition: true
              }" formControlName="coveringEndDate" />
            <label for="date2" translate="coveragesManagement.dateTo"></label>
            <div
              class="error-message"
              *ngIf="controls['coveringEndDate'].invalid &&
              form.submitted">
              <i class="fa-solid fa-circle-exclamation"></i>
              {{ "validation.field_required" | translate }}
            </div>
          </div>
        </div>
        <div class="form-floating mb-3">
          <input type="number" class="form-control" id="value"
            placeholder="value*" min="1" formControlName="coveringAmount"/>
          <label for="value">
            {{ "coveragesManagement.value" | translate }}
          </label>

          <div
            class="error-message"
            *ngIf="controls['coveringAmount'].invalid &&
            form.submitted">
            <div *ngIf="controls['coveringAmount'].hasError('required')">
              <i class="fa-solid fa-circle-exclamation"></i>
              {{ "validation.field_required" | translate }}
            </div>
            <div *ngIf="controls['coveringAmount'].hasError('min')">
              <i class="fa-solid fa-circle-exclamation"></i>
              {{ "validation.plz_enter_a_valid_number" | translate }}
            </div>
          </div>
        </div>
        <div class="form-floating mb-3">
          <p-dropdown
            styleClass="w-100"
            [options]="cities"
            optionValue="id"
            formControlName="cityId"
            filterBy="name"
            [filter]="true"
            placeholder="{{ 'coveragesManagement.city' | translate
            }}"
            optionLabel="name">
          </p-dropdown>
          <div
            class="error-message"
            *ngIf="controls['cityId'].invalid &&
            form.submitted">
            <i class="fa-solid fa-circle-exclamation"></i>
            {{ "validation.field_required" | translate }}
          </div>
        </div>
        <div class="form-floating mb-3">
          <p-dropdown
            styleClass="w-100"
            [options]="allShiftTypes"
            optionValue="shiftType.id"
            formControlName="jobTypeId"
            [filterBy]="(isAr | async) ? 'shiftType.name' :
            'shiftType.nameEn'"
            [filter]="true"
            placeholder="{{ 'coveragesManagement.shiftType' | translate
            }}"
            [optionLabel]="(isAr | async) ? 'shiftType.name' :
            'shiftType.nameEn'">
          </p-dropdown>
          <div
            class="error-message"
            *ngIf="controls['jobTypeId'].invalid &&
            form.submitted">
            <i class="fa-solid fa-circle-exclamation"></i>
            {{ "validation.field_required" | translate }}
          </div>
        </div>
        <div class="form-floating mb-3">
          <p-dropdown
            styleClass="w-100"
            [options]="alljobTypes"
            optionValue="id"
            formControlName="shiftTypeId"
            [filterBy]="(isAr | async) ? 'name' :
            'nameEN'"
            [filter]="true"
            placeholder="{{ 'coveragesManagement.jobType' | translate
            }}"
            [optionLabel]="(isAr | async) ? 'name' :
            'nameEN'">
          </p-dropdown>
          <div
            class="error-message"
            *ngIf="controls['shiftTypeId'].invalid &&
            form.submitted">
            <i class="fa-solid fa-circle-exclamation"></i>
            {{ "validation.field_required" | translate }}
          </div>
        </div>
        <div class="form-floating mb-3">
          <input type="number" min="1" class="form-control" id="companyName"
            placeholder="companyName*" formControlName="openJobNumber" />
          <label for="companyName">
            {{ "coveragesManagement.guardsNumber" | translate }}
          </label>
          <div
            class="error-message"
            *ngIf="controls['openJobNumber'].invalid &&
            form.submitted">
            <div *ngIf="controls['openJobNumber'].hasError('required')">
              <i class="fa-solid fa-circle-exclamation"></i>
              {{ "validation.field_required" | translate }}
            </div>
            <div *ngIf="controls['openJobNumber'].hasError('min')">
              <i class="fa-solid fa-circle-exclamation"></i>
              {{ "validation.plz_enter_a_valid_number" | translate }}
            </div>
          </div>
        </div>
        <div class="form-floating mb-3">
          <div class="form-floating">
            <textarea class="form-control" placeholder="description"
              id="description"
              style="height: 100px" formControlName="coveringUniform"></textarea>
            <label for="description"
              translate="coveragesManagement.uniform"></label>
            <div
              class="error-message"
              *ngIf="controls['coveringUniform'].invalid &&
              form.submitted">
              <div
                *ngIf="controls['coveringUniform'].hasError('required')">
                <i class="fa-solid fa-circle-exclamation"></i>
                {{ "validation.field_required" | translate }}
              </div>
            </div>
          </div>
        </div>
        <div class="form-floating mb-3">
          <input type="number" class="form-control" id="companyName"
            placeholder="companyName*" min="18"
            formControlName="coveringMinAge"/>
          <label for="companyName">
            {{ "coveragesManagement.minAge" | translate }}
          </label>
          <div
            class="error-message"
            *ngIf="controls['coveringMinAge'].invalid &&
            form.submitted">
            <div *ngIf="controls['coveringMinAge'].hasError('required')">
              <i class="fa-solid fa-circle-exclamation"></i>
              {{ "validation.field_required" | translate }}
            </div>
            <div *ngIf="controls['coveringMinAge'].hasError('min')">
              <i class="fa-solid fa-circle-exclamation"></i>
              {{ "validation.plz_enter_a_valid_number" | translate }}
            </div>
          </div>
        </div>
        <div class="form-floating mb-3">
          <p-dropdown
            styleClass="w-100"
            [options]="genders"
            optionValue="id"
            formControlName="genderId"
            [filterBy]="(isAr | async) ? 'name' :
            'nameEN'"
            [filter]="true"
            placeholder="{{ 'coveragesManagement.gender' | translate
            }}"
            [optionLabel]="(isAr | async) ? 'name' :
            'nameEN'">
          </p-dropdown>
          <div
            class="error-message"
            *ngIf="controls['genderId'].invalid &&
            form.submitted">
            <i class="fa-solid fa-circle-exclamation"></i>
            {{ "validation.field_required" | translate }}
          </div>
        </div>


        <div class="form-floating mb-3">
          <div class="form-floating">
            <textarea class="form-control" placeholder="description"
              id="description"
              style="height: 100px" formControlName="jobDescription"></textarea>
            <label for="description"
              translate="coveragesManagement.DescAr"></label>

            <div
              class="error-message"
              *ngIf="controls['jobDescription'].invalid &&
              form.submitted">
              <div
                *ngIf="controls['jobDescription'].hasError('required')">
                <i class="fa-solid fa-circle-exclamation"></i>
                {{ "validation.field_required" | translate }}
              </div>
              <div *ngIf="controls['jobDescription'].hasError('pattern')">
                <i class="fa-solid fa-circle-exclamation"></i>
                {{ "validation.job_description" | translate }}
              </div>
            </div>
          </div>
        </div>

        <div class="form-floating mb-3">
          <div class="form-floating">
            <textarea class="form-control" placeholder="description"
              id="description"
              style="height: 100px" formControlName="jobDescriptionEN"></textarea>
            <label for="description"
              translate="coveragesManagement.DescEn"></label>
            <div
              class="error-message"
              *ngIf="controls['jobDescriptionEN'].invalid &&
              form.submitted">
              <div
                *ngIf="controls['jobDescriptionEN'].hasError('required')">
                <i class="fa-solid fa-circle-exclamation"></i>
                {{ "validation.field_required" | translate }}
              </div>
              <div
                *ngIf="controls['jobDescriptionEN'].hasError('pattern')">
                <i class="fa-solid fa-circle-exclamation"></i>
                {{ "validation.job_descriptionEn" | translate }}
              </div>
            </div>
          </div>
        </div>
        <div class="form-floating mb-3">
          <div class="form-floating">
            <input type="number" class="form-control"
              placeholder="description"
              id="description" min="0"
              formControlName="experinceReqiured">
            <label for="description"
              translate="coveragesManagement.experience"></label>
            <div
              class="error-message"
              *ngIf="controls['experinceReqiured'].invalid &&
              form.submitted">
              <div
                *ngIf="controls['experinceReqiured'].hasError('required')">
                <i class="fa-solid fa-circle-exclamation"></i>
                {{ "validation.field_required" | translate }}
              </div>
              <div
                *ngIf="controls['experinceReqiured'].hasError('min')">
                <i class="fa-solid fa-circle-exclamation"></i>
                {{ "validation.plz_enter_a_valid_number" | translate }}
              </div>
            </div>
          </div>
        </div>
        <div class="form-floating mb-3">
          <div class="form-floating">
            <textarea class="form-control" placeholder="description"
              id="description"
              style="height: 100px" formControlName="jobReqiurement"></textarea>
            <label for="description"
              translate="coveragesManagement.requirementsAr"></label>
            <div
              class="error-message"
              *ngIf="controls['jobReqiurement'].invalid &&
              form.submitted">
              <div
                *ngIf="controls['jobReqiurement'].hasError('required')">
                <i class="fa-solid fa-circle-exclamation"></i>
                {{ "validation.field_required" | translate }}
              </div>
              <div
                *ngIf="controls['jobReqiurement'].hasError('pattern')">
                <i class="fa-solid fa-circle-exclamation"></i>
                {{ "validation.jobReqiurement" | translate }}
              </div>
            </div>
          </div>
        </div>
        <div class="form-floating mb-3">
          <div class="form-floating">
            <textarea class="form-control" placeholder="description"
              id="description"
              style="height: 100px" formControlName="jobReqiurementEN"></textarea>
            <label for="description"
              translate="coveragesManagement.requirementsEn"></label>
            <div
              class="error-message"
              *ngIf="controls['jobReqiurementEN'].invalid &&
              form.submitted">
              <div
                *ngIf="controls['jobReqiurementEN'].hasError('required')">
                <i class="fa-solid fa-circle-exclamation"></i>
                {{ "validation.field_required" | translate }}
              </div>
              <div
                *ngIf="controls['jobReqiurementEN'].hasError('pattern')">
                <i class="fa-solid fa-circle-exclamation"></i>
                {{ "validation.jobReqiurementEN" | translate }}
              </div>
            </div>
          </div>
        </div>
        <div class="flex-grow-1 d-flex justify-content-end align-items-end gap-2
          pb-3">
          <button type="button" class="btn px-4 rounded-8 btn-light"
            translate="cancel"
            data-bs-dismiss="offcanvas"></button>

          <button type="submit" translate="update" class="btn
            px-4 rounded-8
            btn-primary"></button>
        </div>
      </form>
    </public-api-canvas>


    <!-- ------------------------------- delete -------------------------------- -->
    <public-api-modal classList="modal-dialog-centered" id="deleteCoverage">
      <img src="assets/images/svg/delete.svg" alt="" class="mb-3" srcset="" />
      <h4 class="fw-700" translate="coveragesManagement.confirmation"></h4>
      <p class="mt-2 text-info" translate="coveragesManagement.delete"></p>
      <div class="d-flex justify-content-end gap-2">
        <button type="button" data-bs-dismiss="modal" class="btn rounded-8 px-4
          py-2 btn-light" translate="cancel"></button>
        <button translate="yes_delete" type="button" data-bs-dismiss="modal"
          class="btn rounded-8 px-4 py-2 btn-danger" (click)="confirm()"></button>
      </div>
    </public-api-modal>
